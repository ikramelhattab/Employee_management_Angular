<div class="popup-container">

  <div mat-dialog-title class="d-flex justify-content-between">
    <span class="times" (click)="onCancelClick($event)">&times;</span>
    <h2>Ajouter un employé</h2>
  </div>
  <div class="add-form">

    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
      <div mat-dialog-content>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('imageUrl')?.invalid && employeeForm.get('imageUrl')?.touched }">
          <input class="form-control" formControlName="imageUrl" type="file" (change)="onImageUpload($event)" accept="image/*">
          <img *ngIf="imageUrl" [src]="imageUrl" width="100" height="100">
          <div class="error-message" *ngIf="employeeForm?.get('imageUrl')?.hasError('required') && employeeForm.get('imageUrl')?.touched">
            La photo est obligatoire
            </div>
        </div>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched }">
          <input class="form-control" formControlName="firstName" type="text" [(ngModel)]="firstName" name="firstName"
            placeholder="Nom">
          <!-- Display validation errors -->
          <div class="error-message" *ngIf="employeeForm?.get('firstName')?.hasError('required') && employeeForm.get('firstName')?.touched">
            Le nom est obligatoire
          </div>
        </div>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched }">
          <input class="form-control" formControlName="lastName" type="text" [(ngModel)]="lastName" name="lastName"
            placeholder="Prénom">
          <div class="error-message" *ngIf="employeeForm?.get('lastName')?.hasError('required') && employeeForm.get('lastName')?.touched">
              Le prénom est obligatoire
          </div>
        </div>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched }">
          <input class="form-control" formControlName="email" name="email" type="email"  [(ngModel)]="email" placeholder="Email">
          <div  class="error-message" *ngIf="employeeForm?.get('email')?.hasError('required') && employeeForm.get('email')?.touched">
          L'e-mail est obligatoire
          </div>
          <div class="error-message" *ngIf="employeeForm?.get('email')?.hasError('email') && employeeForm.get('email')?.touched">
            S'il vous plaît, mettez une adresse email valide
          </div>
        </div>


        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('contactNumber')?.invalid && employeeForm.get('contactNumber')?.touched }">
          <input class="form-control" formControlName="contactNumber" type="number" [(ngModel)]="contactNumber"
            name="contactNumber" placeholder="Téléphone">
          <div class="error-message"
            *ngIf="employeeForm?.get('contactNumber')?.hasError('required') && employeeForm.get('contactNumber')?.touched">
            Le numéro de téléphone est obligatoire
          </div>
        </div>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('age')?.invalid && employeeForm.get('age')?.touched }">
          <input class="form-control" formControlName="age" type="number" [(ngModel)]="age" name="age"
            placeholder="Age">
          <div class="error-message" *ngIf="employeeForm?.get('age')?.hasError('required') && employeeForm.get('age')?.touched">
             L'age est obligatoire
          </div>
        </div>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('dob')?.invalid && employeeForm.get('dob')?.touched }">
          <input class="form-control" formControlName="dob" type="date" [(ngModel)]="dob" name="dob"
            placeholder="Date de naissance">
          <div class="error-message" *ngIf="employeeForm?.get('dob')?.hasError('required') && employeeForm.get('dob')?.touched">
            La date de naissance est obligatoire
          </div>
        </div>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('salary')?.invalid && employeeForm.get('salary')?.touched }">
          <input class="form-control" formControlName="salary" type="number" [(ngModel)]="salary" name="salary" placeholder="Salaire">
          <div class="error-message" *ngIf="employeeForm?.get('salary')?.hasError('required') && employeeForm.get('salary')?.touched">
            Le salaire est obligatoire
          </div>
        </div>

        <div class="form-group-control" [ngClass]="{ 'ng-invalid ng-touched': employeeForm.get('address')?.invalid && employeeForm.get('address')?.touched }">
          <input class="form-control" formControlName="address" type="text" [(ngModel)]="address" name="address" placeholder="Addresse">
          <div class="error-message" *ngIf="employeeForm?.get('address')?.hasError('required') && employeeForm.get('address')?.touched">
            L'addresse est obligatoire
          </div>
        </div>

        <button class="add-btn" type="submit">Ajouter</button>
        <button class="cancel-btn " type="button" (click)="onCancel()">Annuler</button>
      </div>
    </form>
  </div>
</div>